sparql select ?liker ?first ?last #Q7
       bif:datediff('millisecond', bif:stringdate ('1970.1.1 00:00:00.000+00:00'), ?max_ldt)
       (not exists {  sn:pers%Person% snvoc:knows ?liker} as ?is_new)
       ?post ?content (bif:datediff ("millisecond", ?dt, ?max_ldt) / 60000 as ?lag) 
where {
  {{
  select ?liker, (max(?ldt) as ?max_ldt)
  where {
  	?post snvoc:hasCreator sn:pers%Person% .
  	{{ ?lk snvoc:hasPost ?post } union { ?lk snvoc:hasComment ?post }} .
  	?liker snvoc:likes ?lk . ?lk snvoc:creationDate ?ldt .
  }
  group by ?liker
  order by desc(2)
  limit 20
  }} .
  {{ ?lk1 snvoc:hasPost ?post } union { ?lk1 snvoc:hasComment ?post }} .
  ?liker snvoc:likes ?lk1 . ?lk1 snvoc:creationDate ?max_ldt .
  {{ ?post snvoc:content ?content } union {?post snvoc:imageFile ?content}} .
  ?liker  snvoc:firstName ?first . ?liker snvoc:lastName ?last .
  ?post snvoc:creationDate ?dt .   
}
order by desc(4) ?liker
